Detailed studies of the spectral energy distribution (SED) of normal galaxies have increasingly been used to understand the physical mechanism dominating their integrated emission, mainly owing to the availability of high quality multi-wavelength data from the UV to the far-infrared (FIR). However, systems hosting dust-enshrouded nuclear starbursts and/or an accreting supermassive black hole (an active galactic nucleus or AGN) are especially challenging to study. This is due to the complex interplay between the heating by massive stars and the AGN, the absorption and emission of radiation from dust, as well as the presence of the underlying old stellar population. We used the latest release of CIGALE, a fast state-of-the-art galaxy SED-fitting model relying on energy balance, to study the influence of an AGN in a self consistent manner in estimating both the star formation rate (SFR) and stellar mass in galaxies, as well as to calculate the contribution of the AGN to the power output of the host. Using the semi-analytical galaxy formation model galform, we created a suite of mock galaxy SEDs using realistic star formation histories (SFH). We also added an AGN of Type-1, Type-2, or intermediate-type whose contribution to the bolometric luminosity can be variable. We performed an SED-fitting of these catalogues with CIGALE, assuming three different SFHs: a single-exponentially-decreasing (1τ-dec), a double-exponentially-decreasing (2τ-dec), and a delayed SFH. Constraining the overall contribution of an AGN to the total infrared luminosity (fracAGN) is very challenging for fracAGN&lt; 20%, with uncertainties of ∼5-30% for higher fractions depending on the AGN type, while FIR and sub-mm are essential. The AGN power has an impact on the estimation of M∗ in Type-1 and intermediate-type AGNs but has no effect on galaxies hosting Type-2 AGNs. We find that in the absence of AGN emission, the best estimates of M∗ are obtained using the 2τ-dec model but at the expense of realistic ages of the stellar population. The delayed SFH model provides good estimates of M∗ and SFR, with a maximum offset of 10% as well as better estimates of the age. Our analysis shows that the under-estimation of the SFR increases with fracAGN for Type-1 systems, as well as for low contributions of an intermediate AGN type, but it is quite insensitive to the emission of Type-2 AGNs up to fracAGN ∼ 45%. A lack of sampling the FIR, or sub-mm domain systematically over-estimates the SFR (&lt;20%), independent of the contribution of the AGN. Similarly, the UV emission is critical in accurately retrieving both the M∗ for Type-1 and intermediate- type AGN and the SFR of all three AGN types. We show that the presence of AGN emission introduces a scatter to the SFR-M∗ main sequence relation derived from SED-fitting, which is driven by the uncertainties on M∗. Finally, we used our mock catalogues to test the popular IR SED-fitting code DecompIR and show that fracAGN is under-estimated but that the SFR is recovered well for Type-1 and intermediate-types of AGN. The fracAGN, SFR, and LIR estimates of Type-2 AGNs are more problematic owing to a FIR emission disagreement between predicted and observed models. © ESO, 2015.