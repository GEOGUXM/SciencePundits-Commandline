Realistic crowd simulation is an important issue for the production of virtual worlds for games, crowd management, public space design, education, entertainment or architectural and urban planning. In this paper, crowd simulation is considered from two aspects: intra-group simulation and inter-group simulation. We propose a unified framework for crowd simulation in real-time virtual environment. Based on this framework, for intra-group simulation, we propose a novel density-based information crowd simulation to collision-free. For inter-group simulation, we propose a novel discrete choice (DC) model to realistic simulation of crowds and path planning. Meanwhile, we also propose a variable bounding box method for intra-group/inter-groups intersection problem. The simulation results show that the developed framework allows different group structures to be easily modeled. And the proposed framework could be used for real-time navigation of many moving crowd in complicated virtual environments. Â© 2015 Springer Science+Business Media New York