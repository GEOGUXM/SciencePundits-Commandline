The relation between the galaxy stellar mass M∗ and the dark matter halo mass Mh gives important information on the efficiency in forming stars and assembling stellar mass in galaxies. We present measurements of the ratio of stellar mass to halo mass (SMHR) at redshifts 2 &lt; z &lt; 5, obtained from the VIMOS Ultra Deep Survey. We use halo occupation distribution (HOD) modelling of clustering measurements on ∼3000 galaxies with spectroscopic redshifts to derive the dark matter halo mass Mh, and spectral energy density fitting over a large set of multi-wavelength data to derive the stellar mass M∗ and compute the SMHR = M∗/Mh. We find that the SMHR ranges from 1% to 2.5% for galaxies with M∗ = 1.3 × 109 M⊙ to M∗ = 7.4 × 109 M⊙ in DM halos with Mh = 1.3 × 1011 M⊙ to Mh = 3 × 1011 M⊙. We derive the integrated star formation efficiency (ISFE) of these galaxies and find that the star formation efficiency is a moderate 6-9% for lower mass galaxies, while it is relatively high at 16% for galaxies with the median stellar mass of the sample ∼ 7 × 109 M⊙. The lower ISFE at lower masses may indicate that some efficient means of suppressing star formation is at work (like SNe feedback), while the high ISFE for the average galaxy at z ∼ 3 indicates that these galaxies efficiently build up their stellar mass at a key epoch in the mass assembly process. Based on our results, we propose a possible scenario in which the average massive galaxy at z ∼ 3 begins to experience truncation of its star formation within a few million years. © ESO, 2015.