Studies of the dynamics of biodiversity often suggest that diversity has upper limits, but the complex interplay between ecological and evolutionary processes and the relative role of biotic and abiotic factors that set upper limits to diversity are poorly understood. Here we statistically assess the relationship between global biodiversity and the degree of habitat specialization of benthic marine invertebrates over the Phanerozoic eon. We show that variation in habitat specialization correlates positively with changes in global diversity, that is, times of high diversity coincide with more specialized faunas. We identify the diversity dynamics of specialists but not generalists, and origination rates but not extinction rates, as the main drivers of this ecological interdependence. Abiotic factors fail to show any significant relationship with specialization. Our findings suggest that the overall level of specialization and its fluctuations over evolutionary timescales are controlled by diversity-dependent processes - driven by interactions between organisms competing for finite resources. Â© 2015 Macmillan Publishers Limited. All rights reserved.