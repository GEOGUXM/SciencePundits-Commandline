In this work, we design a quantum key distribution protocol, allowing two limited semiquantum or "classical" users to establish a shared secret key with the help of a fully quantum server. A semiquantum user can prepare and measure qubits only in the computational basis and so must rely on this quantum server to produce qubits in alternative bases and also to perform alternative measurements. However, we assume that the server is untrusted and we prove the unconditional security of our protocol even in the worst case: when this quantum server is an all-powerful adversary. We also compute a lower bound of the key rate of our protocol, in the asymptotic scenario, as a function of the observed error rate in the channel, allowing us to compute the maximally tolerated error of our protocol. Our results show that a semiquantum protocol may hold similar security to a fully quantum one. Â© 2015 American Physical Society.